(this.webpackJsonp_front=this.webpackJsonp_front||[]).push([[13],{1011:function(e,t,a){var n=a(135),r=a(1012);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},1012:function(e,t,a){"use strict";a.r(t);var n=a(68),r=a.n(n)()(!1);r.push([e.i,"",""]),t.default=r},964:function(e,t,a){"use strict";a.r(t);a(323);var n=a(175),r=(a(113),a(36)),c=a(38),l=a.n(c),i=a(155),u=a(157),o=a(21),s=(a(322),a(156)),d=a(39),b=a(1),j=a.n(b),f=a(0),O=a(19),x=a(234),p=a(23),m=a(11),h=Object(x.a)({modal:{title:function(e){return e.isEdit?"\u7f16\u8f91\u89d2\u8272":"\u521b\u5efa\u89d2\u8272"},width:"70%",top:50}})((function(e){var t=e.record,a=e.isEdit,n=e.onOk,r=Object(f.useState)(!1),c=Object(d.a)(r,2),u=c[0],b=c[1],j=s.a.useForm(),x=Object(d.a)(j,1)[0],p=Object(f.useCallback)(function(){var t=Object(i.a)(l.a.mark((function t(r){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=Object(o.a)({},r),!a){t.next=6;break}return t.next=4,e.ajax.post("/role/updateRoleById",c,{setLoading:b,successTip:"\u4fee\u6539\u6210\u529f\uff01"});case 4:t.next=8;break;case 6:return t.next=8,e.ajax.post("/role/updateRoleById",c,{setLoading:b,successTip:"\u4fee\u6539\u6210\u529f\uff01"});case 8:n();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[a,n,e.ajax]);Object(f.useEffect)((function(){Object(i.a)(l.a.mark((function a(){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.ajax.get("/role/getRoleDetailById",{id:null===t||void 0===t?void 0:t.id},[],{setLoading:b});case 2:n=a.sent,x.setFieldsValue(n||{});case 4:case"end":return a.stop()}}),a)})))()}),[x,e.ajax,null===t||void 0===t?void 0:t.id]);var h={labelCol:{flex:"100px"}};return Object(m.jsx)(s.a,{form:x,onFinish:p,children:Object(m.jsxs)(O.k,{loading:u,okText:"\u4fdd\u5b58",okHtmlType:"submit",cancelText:"\u91cd\u7f6e",onCancel:function(){return x.resetFields()},children:[a?Object(m.jsx)(O.e,{hidden:!0,name:"id"}):null,Object(m.jsx)(O.e,Object(o.a)(Object(o.a)({},h),{},{label:"\u89d2\u8272\u540d\u79f0",name:"name",required:!0,noSpace:!0,maxLength:50})),Object(m.jsx)(O.e,Object(o.a)(Object(o.a)({},h),{},{type:"switch",label:"\u542f\u7528",name:"enabled",checkedChildren:"\u542f",unCheckedChildren:"\u7981",required:!0})),Object(m.jsx)(O.e,Object(o.a)(Object(o.a)({},h),{},{type:"textarea",label:"\u5907\u6ce8",name:"remark",maxLength:250}))]})})})),v=a(972),g=a(1011),y=a.n(g);t.default=Object(x.a)({path:"/roles"})((function(e){var t=Object(f.useState)(!1),a=Object(d.a)(t,2),c=a[0],b=a[1],x=Object(f.useState)(1),g=Object(d.a)(x,2),k=g[0],w=g[1],C=Object(f.useState)(20),S=Object(d.a)(C,2),T=S[0],E=S[1],F=Object(f.useState)({}),I=Object(d.a)(F,2),L=I[0],N=I[1],_=Object(f.useState)(null),q=Object(d.a)(_,2),R=q[0],B=q[1],D=Object(f.useState)(!1),M=Object(d.a)(D,2),z=M[0],H=M[1],P=s.a.useForm(),J=Object(d.a)(P,1)[0],U=Object(f.useMemo)((function(){return Object(o.a)(Object(o.a)({},L),{},{pageNum:k,pageSize:T})}),[L,k,T]),V=Object(f.useCallback)((function(){return N(J.getFieldsValue())}),[J]),G=e.ajax.useGet("/role/queryRoleByPage",U,[U],{setLoading:b,formatResult:function(e){return{dataSource:((null===e||void 0===e?void 0:e.content)||[]).filter((function(e){return 3===e.type})),total:(null===e||void 0===e?void 0:e.totalElements)||0}}}).data,K=(G=void 0===G?{}:G).dataSource,A=G.total,Q=e.ajax.useDel("/role/:id",null,{setLoading:b,successTip:"\u5220\u9664\u6210\u529f\uff01"}).run,W=[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name"},{title:"\u542f\u7528",dataIndex:"enabled",render:function(e){return v.default.enabled.getTag(!!e)}},{title:"\u5907\u6ce8",dataIndex:"remark"},{title:"\u64cd\u4f5c",dataIndex:"operator",width:100,render:function(e,t){var a=t.id,n=t.name,r=[{label:"\u7f16\u8f91",onClick:function(){return B(t)||H(!0)}},{label:"\u5220\u9664",color:"red",confirm:{title:"\u60a8\u786e\u5b9a\u5220\u9664\u300c".concat(n,"\u300d\u5417\uff1f"),onConfirm:function(){return X(a)}}}];return Object(m.jsx)(O.l,{items:r})}}];p.n&&(W=[{title:"\u5f52\u5c5e\u7cfb\u7edf",dataIndex:"systemName"}].concat(Object(u.a)(W)));var X=Object(f.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:V();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,V]);return Object(m.jsxs)(O.m,{fitHeight:!0,loading:c,className:j()(y.a.root),children:[Object(m.jsx)(O.o,{children:Object(m.jsxs)(s.a,{name:"role",layout:"inline",form:J,onFinish:function(e){w(1),N(e)},children:[Object(m.jsx)(O.e,Object(o.a)(Object(o.a)({},{wrapperCol:{style:{width:200}}}),{},{label:"\u89d2\u8272\u540d\u79f0",name:"name"})),Object(m.jsx)(O.e,{children:Object(m.jsxs)(n.b,{children:[Object(m.jsx)(r.a,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),Object(m.jsx)(r.a,{htmlType:"reset",children:"\u91cd\u7f6e"})]})})]})}),Object(m.jsx)(O.q,{children:Object(m.jsx)(r.a,{type:"primary",onClick:function(){return B(null)||H(!0)},children:"\u6dfb\u52a0"})}),Object(m.jsx)(O.p,{fitHeight:!0,dataSource:K,columns:W,rowKey:"id"}),Object(m.jsx)(O.n,{total:A,pageNum:k,pageSize:T,onPageNumChange:w,onPageSizeChange:function(e){return w(1)||E(e)}}),Object(m.jsx)(h,{visible:z,isEdit:!!R,record:R,onOk:function(){return H(!1)||V()},onCancel:function(){return H(!1)}})]})}))},972:function(e,t,a){"use strict";a.r(t);var n=a(39),r=a(19),c={},l=a(986);l.keys().forEach((function(e){if(!["./index.js"].includes(e)){var t=l(e).default;Object.entries(t).forEach((function(t){var a=Object(n.a)(t,2),r=a[0],l=a[1];if(r in c)throw Error("".concat(e," \u6587\u4ef6\u4e2d key \u300c").concat(r,"\u300d\u5df2\u88ab\u4f7f\u7528\uff01\u8bf7\u66f4\u6362\uff01"));c[r]=l}))}})),Object(r.T)(c,5e3),t.default=c},986:function(e,t,a){var n={"./index.js":972,"./system.js":987};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=986},987:function(e,t,a){"use strict";a.r(t);var n=a(38),r=a.n(n),c=a(155),l=(a(325),a(167)),i=a(379),u=a(11);t.default={menuTarget:[{value:"menu",label:"\u5e94\u7528\u83dc\u5355"},{value:"qiankun",label:"\u4e7e\u5764\u5b50\u5e94\u7528"},{value:"iframe",label:"iframe\u5185\u5d4c\u7b2c\u4e09\u65b9"},{value:"_self",label:"\u5f53\u524d\u7a97\u53e3\u6253\u5f00\u7b2c\u4e09\u65b9"},{value:"_blank",label:"\u65b0\u5f00\u7a97\u53e3\u6253\u5f00\u7b2c\u4e09\u65b9"}],yesNo:[{value:!0,label:"\u662f",tag:Object(u.jsx)(l.a,{color:"green",children:"\u662f"})},{value:!1,label:"\u5426",tag:Object(u.jsx)(l.a,{color:"red",children:"\u5426"})}],enabled:[{value:!0,label:"\u542f\u7528",tag:Object(u.jsx)(l.a,{color:"green",children:"\u542f\u7528"})},{value:!1,label:"\u7981\u7528",tag:Object(u.jsx)(l.a,{color:"red",children:"\u7981\u7528"})}],sex:[{value:"1",label:"\u7537"},{value:"2",label:"\u5973"},{value:"3",label:"\u672a\u77e5"}],system:function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/menu/queryTopMenus");case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{value:e.id,label:e.title,meta:e}})));case 4:case"end":return e.stop()}}),e)})))()},action:function(){return[{value:"add",label:"\u6dfb\u52a0"}]},get demo(){return[]}}}}]);