{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/FormOutlined.js","../node_modules/@ant-design/icons/es/icons/FormOutlined.js","pages/home/index.jsx","webpack://front/./src/pages/home/style.less?5718","pages/home/style.less","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/@ant-design/icons-svg/es/asn/MinusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"],"names":["FormOutlined","props","ref","React","AntdIcon","Object","assign","icon","FormOutlinedSvg","displayName","FORM_STORAGE_KEY","DATA_SOURCE_STORAGE_KEY","config","path","title","useState","storage","local","getItem","dataSource","setDataSource","fieldOptions","setFieldOptions","tableOptions","setTableOptions","templateOptions","setTemplateOptions","useForm","form","handleDataSourceChange","useCallback","values","setItem","handleDelete","id","nextDataSource","filter","item","columns","dataIndex","width","type","FIELD_EDIT_TYPES","input","required","select","options","FORM_ELEMENT_OPTIONS","tags","render","value","record","chinese","items","label","color","confirm","onConfirm","handleDbUrlChange","handleTableNameChange","handleModuleNameChange","handleAdd","append","length","newRecord","uuid","comment","field","formType","push","unshift","handlePreviewCode","handleFastEdit","handleFormChange","setTimeout","getFieldsValue","triggerWindowResize","useEffect","setFieldsValue","formItemProps","s","root","style","marginBottom","layout","initialValues","files","onValuesChange","query","labelCol","flex","align","name","placeholder","onChange","tooltip","showSearch","marginTop","List","fields","add","remove","map","index","key","restField","isListField","backgroundColor","isFirst","number","display","alignItems","paddingTop","paddingLeft","position","ghost","shape","size","top","zIndex","PlusOutlined","onClick","rules","validator","_","Promise","resolve","getFieldValue","findIndex","targetPath","findLastIndex","reject","MinusCircleOutlined","CodeOutlined","otherHeight","onAdd","footer","api","content","__esModule","default","module","i","exports","locals","___CSS_LOADER_EXPORT___","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","REGEX","test","byteToHex","toString","substr","stringify","arr","offset","arguments","undefined","toLowerCase","TypeError","v4","buf","rnds","random","MinusCircleOutlinedSvg"],"mappings":"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","file":"static/js/12.83175ceb.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar FormOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z\" } }] }, \"name\": \"form\", \"theme\": \"outlined\" };\nexport default FormOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FormOutlinedSvg from \"@ant-design/icons-svg/es/asn/FormOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FormOutlined = function FormOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: FormOutlinedSvg\n  }));\n};\n\nFormOutlined.displayName = 'FormOutlined';\nexport default /*#__PURE__*/React.forwardRef(FormOutlined);","import React, {useState, useEffect, useCallback} from 'react';\nimport {Form, Space, Button} from 'antd';\nimport {MinusCircleOutlined, PlusOutlined, CodeOutlined, FormOutlined} from '@ant-design/icons';\nimport {PageContent, FormItem, storage, Operator} from '@ra-lib/admin';\nimport config from 'src/commons/config-hoc';\nimport {OptionsTag, EditTable} from 'src/components';\nimport s from './style.less';\nimport {v4 as uuid} from 'uuid';\nimport {FORM_ELEMENT_OPTIONS, FIELD_EDIT_TYPES} from './constant';\nimport {triggerWindowResize} from 'src/commons';\n\nconst FORM_STORAGE_KEY = 'single_form_values';\nconst DATA_SOURCE_STORAGE_KEY = 'single_data_source';\n\nexport default config({\n    path: '/home',\n    title: '首页',\n})(function Home(props) {\n    const [dataSource, setDataSource] = useState(storage.local.getItem(DATA_SOURCE_STORAGE_KEY) || []);\n    const [fieldOptions, setFieldOptions] = useState([]);\n    const [tableOptions, setTableOptions] = useState([]);\n    const [templateOptions, setTemplateOptions] = useState([]);\n    const [form] = Form.useForm();\n\n    // DataSource 改变\n    const handleDataSourceChange = useCallback(values => {\n        setDataSource(values);\n        storage.local.setItem(DATA_SOURCE_STORAGE_KEY, values);\n    }, []);\n\n    // 删除行\n    const handleDelete = useCallback((id) => {\n        const nextDataSource = dataSource.filter(item => item.id !== id);\n        handleDataSourceChange(nextDataSource);\n    }, [dataSource, handleDataSourceChange]);\n\n    const columns = [\n        { title: '注释', dataIndex: 'comment', width: 150 },\n        { title: '中文名', dataIndex: 'chinese', width: 190, type: FIELD_EDIT_TYPES.input, required: true },\n        { title: '列名', dataIndex: 'field', width: 190, type: FIELD_EDIT_TYPES.input, required: true },\n        { title: '表单类型', dataIndex: 'formType', width: 190, type: FIELD_EDIT_TYPES.select, options: FORM_ELEMENT_OPTIONS },\n        { title: '选项', dataIndex: 'options', type: FIELD_EDIT_TYPES.tags, options: fieldOptions },\n        {\n            title: '操作', dataIndex: 'operator', width: 100,\n            render: (value, record) => {\n                const { id, chinese } = record;\n                const items = [\n                    {\n                        label: '删除',\n                        color: 'red',\n                        confirm: {\n                            title: `您确定删除\"${chinese}\"?`,\n                            onConfirm: () => handleDelete(id),\n                        },\n                    },\n                ];\n\n                return <Operator items={items}/>;\n            },\n        },\n\n    ];\n\n    const handleDbUrlChange = useCallback(() => {\n        // TODO\n    }, []);\n\n    const handleTableNameChange = useCallback(() => {\n        // TODO\n    }, []);\n\n    const handleModuleNameChange = useCallback(() => {\n        // TODO\n    }, []);\n    const handleAdd = useCallback((append = false) => {\n        const length = dataSource.length;\n\n        const newRecord = {\n            id: uuid(),\n            comment: `新增列${length + 1}`,\n            chinese: `新增列${length + 1}`,\n            field: `field${length + 1}`,\n            formType: 'input',\n            options: [...fieldOptions],\n        };\n\n        append ? dataSource.push(newRecord) : dataSource.unshift(newRecord);\n        handleDataSourceChange([...dataSource]);\n    }, [dataSource, fieldOptions, handleDataSourceChange]);\n\n    const handlePreviewCode = useCallback(() => {\n        //TODO\n    }, []);\n\n    const handleFastEdit = useCallback(() => {\n        //TODO\n    }, []);\n\n    const handleFormChange = useCallback(() => {\n        // 解决删除一行文件，获取不到最新数据问题\n        setTimeout(() => {\n            // 表单同步localStorage\n            storage.local.setItem(FORM_STORAGE_KEY, form.getFieldsValue());\n            // 触发窗口事件，表格高度重新计算\n            triggerWindowResize();\n        });\n    }, [form]);\n    useEffect(() => form.setFieldsValue(storage.local.getItem(FORM_STORAGE_KEY) || {}), [form]);\n\n    // 测试数据\n    useEffect(() => {\n        setTemplateOptions([\n            { value: 'listPage', label: '列表页' },\n            { value: 'editModal', label: '编辑弹框' },\n        ]);\n        setTableOptions([\n            { value: 'user_center_adfafd_asdfadf', label: 'user_center_adfafd_asdfadf' },\n        ]);\n        setFieldOptions(['条件', '表格']);\n    }, []);\n\n    const formItemProps = {\n        // size: 'small',\n    };\n\n    return (\n        <PageContent className={s.root}>\n            <Form\n                className={s.query}\n                style={{ marginBottom: 8 }}\n                form={form}\n                layout=\"inline\"\n                initialValues={{ files: [{}] }}\n                onValuesChange={handleFormChange}\n            >\n                <FormItem\n                    {...formItemProps}\n                    labelCol={{ flex: '120px' }}\n                    style={{ width: 300 }}\n                    align=\"right\"\n                    label=\"数据库连接\"\n                    name=\"dbUrl\"\n                    placeholder=\"mysql://username:password@host:port/database\"\n                    onChange={handleDbUrlChange}\n                    tooltip=\"支持mysql、oracle\"\n                />\n                <FormItem\n                    {...formItemProps}\n                    labelCol={{ flex: '100px' }}\n                    style={{ width: 300 }}\n                    type=\"select\"\n                    showSearch\n                    label=\"数据库表\"\n                    name=\"tableName\"\n                    onChange={handleTableNameChange}\n                    options={tableOptions}\n                />\n                <FormItem\n                    {...formItemProps}\n                    labelCol={{ flex: '91px' }}\n                    style={{ width: 200 }}\n                    label=\"模块名\"\n                    name=\"moduleName\"\n                    placeholder=\"比如：user-center\"\n                    onChange={handleModuleNameChange}\n                    required\n                />\n                <div style={{ width: '100%', marginTop: 8 }}>\n                    <Form.List name=\"files\">\n                        {(fields, { add, remove }) => (\n                            <>\n                                {fields.map(({ key, name, isListField, ...restField }, index) => {\n                                    const backgroundColor = index % 2 ? '#fff' : '#eee';\n                                    // const isLast = index === fields.length - 1;\n                                    const isFirst = index === 0;\n                                    const number = index + 1;\n                                    let label = number;\n                                    if (isFirst) label = `文件${number}`;\n\n                                    return (\n                                        <div\n                                            key={key}\n                                            style={{\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                paddingTop: 7,\n                                                paddingLeft: 30,\n                                                backgroundColor,\n                                            }}\n                                        >\n                                            <div style={{ width: 408, position: 'relative' }}>\n                                                {isFirst && (\n                                                    <Button\n                                                        type=\"primary\"\n                                                        ghost\n                                                        shape=\"circle\"\n                                                        size=\"small\"\n                                                        style={{ position: 'absolute', top: 4, zIndex: 1 }}\n                                                        icon={<PlusOutlined/>}\n                                                        onClick={() => add({})}\n                                                    />\n                                                )}\n                                                <FormItem\n                                                    {...formItemProps}\n                                                    {...restField}\n                                                    labelCol={{ flex: '90px' }}\n                                                    style={{ width: 300 }}\n                                                    label={label}\n                                                    name={[name, 'template']}\n                                                    required\n                                                    options={templateOptions}\n                                                    placeholder=\"请选择模板\"\n                                                />\n                                            </div>\n                                            <FormItem\n                                                {...formItemProps}\n                                                {...restField}\n                                                style={{ width: 300 }}\n                                                label=\"目标位置\"\n                                                name={[name, 'targetPath']}\n                                                required\n                                                rules={[\n                                                    {\n                                                        validator(_, value) {\n                                                            if (!value) return Promise.resolve();\n                                                            const files = form.getFieldValue('files');\n                                                            const index = files.findIndex(item => item.targetPath === value);\n                                                            const lastIndex = files.findLastIndex(item => item.targetPath === value);\n                                                            if (index !== lastIndex) return Promise.reject('不能使用相同的目标文件！请修改');\n                                                            return Promise.resolve();\n                                                        },\n                                                    },\n                                                ]}\n                                            />\n                                            <FormItem\n                                                {...formItemProps}\n                                                {...restField}\n                                                name={[name, 'options']}\n                                            >\n                                                <OptionsTag\n                                                    options={['表格选中', '表格序号', '分页', '导入', '导出', '添加', '批量删除', '弹框编辑']}\n                                                />\n                                            </FormItem>\n                                            {fields?.length > 1 && (\n                                                <MinusCircleOutlined\n                                                    style={{ color: 'red' }}\n                                                    onClick={() => remove(name)}\n                                                />\n                                            )}\n                                        </div>\n                                    );\n                                })}\n                            </>\n                        )}\n                    </Form.List>\n                </div>\n            </Form>\n            <Space style={{ marginBottom: 8 }}>\n                <Button\n                    icon={<PlusOutlined/>}\n                    type=\"primary\"\n                    onClick={() => handleAdd()}\n                >\n                    添加一行\n                </Button>\n                <Button\n                    icon={<CodeOutlined/>}\n                    type=\"primary\"\n                    ghost\n                    onClick={() => handlePreviewCode()}\n                >\n                    代码预览\n                </Button>\n                <Button\n                    icon={<FormOutlined/>}\n                    onClick={() => handleFastEdit()}\n                >\n                    快速编辑\n                </Button>\n            </Space>\n            <EditTable\n                otherHeight={72}\n                columns={columns}\n                onAdd={handleAdd}\n                dataSource={dataSource}\n                onChange={handleDataSourceChange}\n                footer={() => null}\n            />\n        </PageContent>\n    );\n});\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-10-1!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-10-2!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".query_39zez .front-form-item {\\n  margin-bottom: 6px;\\n}\\n.query_39zez .front-form-item-explain {\\n  position: absolute;\\n  margin-top: -4px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/home/style.less\"],\"names\":[],\"mappings\":\"AAKA;EAGY,kBAAA;AADZ;AAFA;EAOY,kBAAA;EACA,gBAAA;AAFZ\",\"sourcesContent\":[\"@import \\\"src/theme.less\\\";\\n\\n.root {\\n}\\n\\n.query {\\n    :global {\\n        .@{ant-prefix}-form-item {\\n            margin-bottom: 6px;\\n        }\\n\\n        .@{ant-prefix}-form-item-explain {\\n            position: absolute;\\n            margin-top: -4px;\\n        }\\n    }\\n}\\n\\n@packageName: front;\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"antPrefix\": \"front\",\n\t\"raLibPrefix\": \"front-ra\",\n\t\"primaryColor\": \"#1890ff\",\n\t\"query\": \"query_39zez\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// This icon file is generated automatically.\nvar MinusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"minus-circle\", \"theme\": \"outlined\" };\nexport default MinusCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusCircleOutlined = function MinusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MinusCircleOutlinedSvg\n  }));\n};\n\nMinusCircleOutlined.displayName = 'MinusCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(MinusCircleOutlined);"],"sourceRoot":""}